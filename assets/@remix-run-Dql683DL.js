/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function w(){return w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},w.apply(this,arguments)}var v;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(v||(v={}));const R="popstate";function H(t){t===void 0&&(t={});function e(a,r){let{pathname:l,search:o,hash:i}=a.location;return L("",{pathname:l,search:o,hash:i},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){return typeof r=="string"?r:B(r)}return D(e,n,null,t)}function y(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function j(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T(){return Math.random().toString(36).substr(2,8)}function A(t,e){return{usr:t.state,key:t.key,idx:e}}function L(t,e,n,a){return n===void 0&&(n=null),w({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?b(e):e,{state:n,key:e&&e.key||a||T()})}function B(t){let{pathname:e="/",search:n="",hash:a=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function b(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substr(a),t=t.substr(0,a)),t&&(e.pathname=t)}return e}function D(t,e,n,a){a===void 0&&(a={});let{window:r=document.defaultView,v5Compat:l=!1}=a,o=r.history,i=v.Pop,s=null,c=u();c==null&&(c=0,o.replaceState(w({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function p(){i=v.Pop;let h=u(),f=h==null?null:h-c;c=h,s&&s({action:i,location:m.location,delta:f})}function g(h,f){i=v.Push;let d=L(m.location,h,f);n&&n(d,h),c=u()+1;let S=A(d,c),W=m.createHref(d);try{o.pushState(S,"",W)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;r.location.assign(W)}l&&s&&s({action:i,location:m.location,delta:1})}function $(h,f){i=v.Replace;let d=L(m.location,h,f);n&&n(d,h),c=u();let S=A(d,c),W=m.createHref(d);o.replaceState(S,"",W),l&&s&&s({action:i,location:m.location,delta:0})}function x(h){let f=r.location.origin!=="null"?r.location.origin:r.location.href,d=typeof h=="string"?h:B(h);return d=d.replace(/ $/,"%20"),y(f,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,f)}let m={get action(){return i},get location(){return t(r,o)},listen(h){if(s)throw new Error("A history only accepts one active listener");return r.addEventListener(R,p),s=h,()=>{r.removeEventListener(R,p),s=null}},createHref(h){return e(r,h)},createURL:x,encodeLocation(h){let f=x(h);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:g,replace:$,go(h){return o.go(h)}};return m}var C;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(C||(C={}));function F(t,e,n){n===void 0&&(n="/");let a=typeof e=="string"?b(e):e,r=I(a.pathname||"/",n);if(r==null)return null;let l=U(t);J(l);let o=null;for(let i=0;o==null&&i<l.length;++i){let s=et(r);o=Z(l[i],s)}return o}function U(t,e,n,a){e===void 0&&(e=[]),n===void 0&&(n=[]),a===void 0&&(a="");let r=(l,o,i)=>{let s={relativePath:i===void 0?l.path||"":i,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};s.relativePath.startsWith("/")&&(y(s.relativePath.startsWith(a),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(a.length));let c=P([a,s.relativePath]),u=n.concat(s);l.children&&l.children.length>0&&(y(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),U(l.children,e,u,c)),!(l.path==null&&!l.index)&&e.push({path:c,score:X(c,l.index),routesMeta:u})};return t.forEach((l,o)=>{var i;if(l.path===""||!((i=l.path)!=null&&i.includes("?")))r(l,o);else for(let s of k(l.path))r(l,o,s)}),e}function k(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,r=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return r?[l,""]:[l];let o=k(a.join("/")),i=[];return i.push(...o.map(s=>s===""?l:[l,s].join("/"))),r&&i.push(...o),i.map(s=>t.startsWith("/")&&s===""?"/":s)}function J(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Y(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const V=/^:[\w-]+$/,q=3,z=2,G=1,K=10,Q=-2,M=t=>t==="*";function X(t,e){let n=t.split("/"),a=n.length;return n.some(M)&&(a+=Q),e&&(a+=z),n.filter(r=>!M(r)).reduce((r,l)=>r+(V.test(l)?q:l===""?G:K),a)}function Y(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function Z(t,e){let{routesMeta:n}=t,a={},r="/",l=[];for(let o=0;o<n.length;++o){let i=n[o],s=o===n.length-1,c=r==="/"?e:e.slice(r.length)||"/",u=_({path:i.relativePath,caseSensitive:i.caseSensitive,end:s},c);if(!u)return null;Object.assign(a,u.params);let p=i.route;l.push({params:a,pathname:P([r,u.pathname]),pathnameBase:it(P([r,u.pathnameBase])),route:p}),u.pathnameBase!=="/"&&(r=P([r,u.pathnameBase]))}return l}function _(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=tt(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let l=r[0],o=l.replace(/(.)\/+$/,"$1"),i=r.slice(1);return{params:a.reduce((s,c,u)=>{let{paramName:p,isOptional:g}=c;if(p==="*"){let x=i[u]||"";o=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const $=i[u];return g&&!$?s[p]=void 0:s[p]=($||"").replace(/%2F/g,"/"),s},{}),pathname:l,pathnameBase:o,pattern:t}}function tt(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),j(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,i)=>(a.push({paramName:o,isOptional:i!=null}),i?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),a]}function et(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return j(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function I(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function nt(t,e){e===void 0&&(e="/");let{pathname:n,search:a="",hash:r=""}=typeof t=="string"?b(t):t;return{pathname:n?n.startsWith("/")?n:at(n,e):e,search:st(a),hash:ht(r)}}function at(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function O(t,e,n,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rt(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lt(t,e){let n=rt(t);return e?n.map((a,r)=>r===t.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function ot(t,e,n,a){a===void 0&&(a=!1);let r;typeof t=="string"?r=b(t):(r=w({},t),y(!r.pathname||!r.pathname.includes("?"),O("?","pathname","search",r)),y(!r.pathname||!r.pathname.includes("#"),O("#","pathname","hash",r)),y(!r.search||!r.search.includes("#"),O("#","search","hash",r)));let l=t===""||r.pathname==="",o=l?"/":r.pathname,i;if(o==null)i=n;else{let p=e.length-1;if(!a&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;r.pathname=g.join("/")}i=p>=0?e[p]:"/"}let s=nt(r,i),c=o&&o!=="/"&&o.endsWith("/"),u=(l||o===".")&&n.endsWith("/");return!s.pathname.endsWith("/")&&(c||u)&&(s.pathname+="/"),s}const P=t=>t.join("/").replace(/\/\/+/g,"/"),it=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),st=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ht=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ct(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const N=["post","put","patch","delete"];new Set(N);const ut=["get",...N];new Set(ut);export{v as A,ct as a,H as c,lt as g,y as i,P as j,F as m,b as p,ot as r,I as s};
